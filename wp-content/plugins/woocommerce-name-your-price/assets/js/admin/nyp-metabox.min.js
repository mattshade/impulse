/*! wc_name_your_price 2.7.1 */

!function(i){i.extend({moveNYPmetaFields:function(){i(".options_group.show_if_nyp").insertBefore(".options_group.pricing")},addClasstoRegularPrice:function(){i(".options_group.pricing").addClass("hide_if_nyp")},toggleRegularPriceClass:function(e){e?i(".options_group.pricing").removeClass("show_if_simple"):i(".options_group.pricing").addClass("show_if_simple")},showHideNYPelements:function(){var e=i("select#product-type").val(),a=i("#_nyp").prop("checked");switch(i.toggleRegularPriceClass(a),e){case"subscription":i.showHideNYPprices(a,!0),i.enableDisableSubscriptionPrice(a);var o=i("#_variable_billing").prop("checked");i.showHideNYPvariablePeriods(o),i.enableDisableSubscriptionPeriod(o);break;case"simple":case"bundle":case"bto":case"composite":case"deposit":case"mix-and-match":i.showHideNYPprices(a,!0),i.showHideNYPvariablePeriods(!1);break;case"variable":i.showHideNYPprices(!1),i.moveNYPvariationFields(),i.showHideNYPmetaforVariableProducts();break;case"variable-subscription":i.showHideNYPprices(!1),i.moveNYPvariationFields(),i.showHideNYPmetaforVariableSubscriptions();break;default:i.showHideNYPprices(!1)}},showHideNYPprices:function(e,a){a=void 0!==a&&a,e?(i(".show_if_nyp").show(),i(".hide_if_nyp").hide()):(i(".show_if_nyp").hide(),a&&i(".hide_if_nyp").show())},enableDisableSubscriptionPrice:function(e){e?i("#_subscription_price").prop("disabled",!0).css("background","#CCC"):i("#_subscription_price").prop("disabled",!1).css("background","#FFF")},showHideNYPvariablePeriods:function(e){$variable_periods=i("._suggested_billing_period_field, ._minimum_billing_period_field"),e?$variable_periods.show():$variable_periods.hide()},enableDisableSubscriptionPeriod:function(e){$subscription_period=i("#_subscription_period_interval, #_subscription_period"),e?$subscription_period.prop("disabled",!0).css("background","#CCC"):$subscription_period.prop("disabled",!1).css("background","#FFF")},addClasstoVariablePrice:function(){i(".woocommerce_variation .variable_pricing").addClass("hide_if_variable_nyp")},moveNYPvariationFields:function(){i("#variable_product_options .variable_nyp_pricing").not(".nyp_moved").each(function(){i(this).insertAfter(i(this).siblings(".variable_pricing")).addClass("nyp_moved")})},showHideNYPvariableMeta:function(){"variable-subscription"==i("#product-type").val()?i.showHideNYPmetaforVariableSubscriptions():i.showHideNYPmetaforVariableProducts()},showHideNYPmetaforVariableProducts:function(){i(".variation_is_nyp").each(function(e){var a=i(this).closest(".woocommerce_variation").find(".variable_pricing"),o=i(this).closest(".woocommerce_variation").find(".variable_nyp_pricing");i(this).prop("checked")?(o.show(),a.hide()):(o.hide(),a.removeAttr("style"))})},showHideNYPmetaforVariableSubscriptions:function(){i(".variation_is_nyp").each(function(e){var a=i(this).closest(".woocommerce_variation").find(".variable_pricing"),o=i(this).closest(".woocommerce_variation").find(".wc_input_subscription_price"),r=i(this).closest(".woocommerce_variation").find(".variable_nyp_pricing");i(this).prop("checked")?(r.show(),o.prop("disabled",!0).css("background","#CCC"),a.children().not(".show_if_variable-subscription").hide()):(r.hide(),o.prop("disabled",!1).css("background","#FFF"),a.children().not(".hide_if_variable-subscription").show())})}}),i(".options_group.pricing").length>0&&(i.moveNYPmetaFields(),i.addClasstoRegularPrice(),i.showHideNYPelements()),i("body").on("woocommerce-product-type-change",function(){i.showHideNYPelements()}),i("input#_nyp").on("change",function(){i.showHideNYPelements()}),i("#_variable_billing").on("change",function(){i.showHideNYPvariablePeriods(this.checked),i.enableDisableSubscriptionPeriod(this.checked)}),i("#woocommerce-product-data").on("woocommerce_variations_loaded",function(){i.addClasstoVariablePrice(),i.moveNYPvariationFields(),i.showHideNYPvariableMeta()}),i("#variable_product_options").on("woocommerce_variations_added",function(){i.addClasstoVariablePrice(),i.moveNYPvariationFields(),i.showHideNYPvariableMeta()}),i("#variable_product_options").on("change",".variation_is_nyp",function(e){i.showHideNYPvariableMeta()}),i("select.variation_actions").on("woocommerce_variable_bulk_nyp_toggle",function(e){i.showHideNYPvariableMeta()}),i("select.variation_actions").on("variation_suggested_price_ajax_data variation_suggested_price_increase_ajax_data variation_suggested_price_decrease_ajax_data variation_min_price_ajax_data variation_min_price_increase_ajax_data variation_min_price_decrease_ajax_data",function(e,a){switch(i(this).val()){case"variation_suggested_price":case"variation_min_price":value=window.prompt(woocommerce_nyp_metabox.enter_value),value=accounting.unformat(value,woocommerce_admin.mon_decimal_point);break;case"variation_suggested_price_increase":case"variation_suggested_price_decrease":case"variation_min_price_increase":case"variation_min_price_decrease":value=window.prompt(woocommerce_nyp_metabox.price_adjust),a.percentage=value.indexOf("%")>=0?"yes":"no",value=accounting.unformat(value,woocommerce_admin.mon_decimal_point)}return null!=value&&(a.value=value),a})}(jQuery);